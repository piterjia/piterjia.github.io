---
layout: post
title: Vim 常用操作汇总
categories: Vim
description: vim是linux下功能非常强大的文本编辑器，因为是命令操作，所以不太好记，下面总结一下常用的几点操作。
keywords: Vim, operation
---

因为命令很琐碎，如果每次用的时候再去查，就会影响效率。所以对VIM常用命令做个简单总结。

# Vim 常用操作汇总

## 启动和退出vim
- vim的启动：在Linux的提示符下键入vim(或使用vim myfile来编辑已经存在的文件)即可启动它。
- vim的退出：先按下Esc键回到命令行模式，然后键入":"，此时光标会停留在最下面一行，再键入"q"（如果强行退出则还在后面加 "!" ），最后按下Enter键即可。

## vim中常用的复制文本命令
- y+y： 将光标目前所在的位置整行复制
- y+w： 复制光标所在的位置到整个单词所在的位置
- n+y+w： 若按4yw，则会将光标所在位置到单词结束以及后面三个单词(共4个单词)一起复制
- n+y+y： 若按4yy，则将连同光标所在位置的一行与下面三行一起复制
- p： 将复制的内容粘贴光标所在的位置之后。
- P： 将复制的内容粘贴光标所在的位置之前。


## vim中常用的删除文本命令
- d+h： 连续按d和h，将光标所在位置前一个字符删除
- d+l： 将光标所在位置字符删除
- d+k： 将光标所在位置行与其上一行同时删除
- d+j： 将光标所在位置与下一行同时删除
- d+d： 连按两次d，可将光标所在的行删除，若是连续删除，可以按住d不放
- d+w： 删除光标所在位置的单词，若是光标在两个字之间，则删除光标后面的一个字符
- n+d+d： 删除从光标所在行开始计数向下的n行
- n+d+k： 删除包括光标所在行及向上的n行
- n+d+j： 与n+d+d命令类似，但多删了一行，总共删除 n+1 行
- D： 将光标所在行后面所有的单词删除
- C： 将光标所在行后面所有的单词删除，并进入插入模式
- S： 整行删除，并进入插入模式
- x： 将光标所在位置字符删除
- X： 将光标所在位置前一个字符删除
- n+x： 删除光标所在位置及其后的n个字符
- n+X： 删除光标所在位置及其前的n个字符
- v/V+光标选中+d： 进入VISUAL/VISUAL LINE模式后移动光标选中文本再删除，可看清楚删了哪些文本

## vim中常用的找出行数等定位命令
- Ctrl+g： 在最后一行中显示光标所在位置的行数及文章的总行数
- nG： 将光标移至n行
- G： 将光标移至文件末尾
- gg： 将光标移至文件头部
- H: 将光标移至屏幕头部
- M: 将光标移至屏幕中部
- L: 将光标移至屏幕底部
- f+char: 在行内向前查找并定位到指定字符，如fa代表定位到下一个字符a
- F+char: 在行内向后查找并定位到指定字符，发现漏写字母时很实用
- $: 定位到行尾
- ^: 定位到行首
- [{: 定位到段首
- ]}: 定位到段尾


## vim中替换/撤销等
- r： 修改光标所在字符
- R： 修改光标所在位置的字符，可以一直替换字符，直到按下ESC键
- u： 表示复原功能
- U： 取消对行所作的所有改变
- .： 重复执行上一命令
- Z+Z： 连续按下两次Z，文件将保存并退出vim
- %： 符号匹配功能，在编辑时，如果输入"%("，系统会自动匹配相应的")"


## vim中命令行模式切换到输入模式
- a： 从目前光标所在位置的下一个字符开始输入。
- A： 从行尾开始输入。
- i： 从光标所在位置开始插入新输入的字符。
- I： 从行首开始输入。
- o： 新增加一行，并将光标移到下一行的开头。
- O： 在当前行之上新增一行。
- vim最后行模式主要的操作命令
- e ：若文件存在则打开文件否则新建文件
- n： 若文件存在则打开文件否则新建文件
- w： 写文件，也就是将编辑的内容保存到文件系统中。主要它是保存到临时文件中，直接退出，他并没有保存到文件中的
- w！： 如果想写只读文件，使用它强制写入文件
- q！： 不问你是否保存文件，强制退出
- set nu： set 可以设置vim的某些特性，这里是设置每行开头提示行数。想取消设置，使用命令 set nonu
- /： 查找匹配字符串功能。如/(，将查找(和)；如果想继续向下查找，可以按n键；向前继续查找则按N键
- ?： 与/相似，但它是向前查找字符串
- :%s/reg1/char/cg 替换指定字符

